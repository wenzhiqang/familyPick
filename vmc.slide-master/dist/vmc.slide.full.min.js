/**
 * vmc.slide 图片轮播JQuery插件 v2.0.0
 * 维米客网页工作室 vomoc.com
 * https://github.com/vomoc/vmc.slide
 * vomoc@qq.com
 * 2017/03/20
 **/
;(function(c,f){var e="vomoc";var a=!-[1,]&&!window.XMLHttpRequest;var g=navigator.appName!=="Microsoft Internet Explorer"||parseInt(navigator.appVersion.split(";")[1].replace(/[ ]/g,"").replace("MSIE",""))>=9;var b={"fade":function(h){var i=this,j=i.options;i.transfer[3].fadeIn(j.speed,function(){i._resetTransfer(h)})}};c.fn.vmcSlide=function(i){var j=c.type(i)==="string",h=[].slice.call(arguments,1);if(!this.length){return}return this.each(function(){var l=c(this),k=l.data(e);if(j&&i.charAt(0)!=="_"&&k){d.prototype[i]&&d.prototype[i].apply(k,h)}else{if(!j&&!k){k=new d(l,i);k._init();l.data(e,k)}}})};c.vmcSlideEffects=function(){if(c.isPlainObject(arguments[0])){b=c.extend({},b,arguments[0])}else{if(c.type(arguments[0])==="string"&&c.type(arguments[1])==="function"){b[arguments[0]]=arguments[1]}}};var d=function(h,j){var i=this;i.options=c.extend({},i.options,j);i.elem=h;i.original=h.children();i.mimic=null;i.transfer=[];i.data=[];i.index=0;i.effectIndex=0;i.animateStatus=false;i.width=0;i.height=0;i.imgWidth=0;i.imgHeight=0;i.auto=i.options.autoPlay;i.timer=null};d.prototype.options={data:[],width:"auto",height:"auto",imgWidth:0,imgHeight:0,minWidth:0,minHeight:0,gridTdX:10,gridTdY:5,gridOdX:30,gridOdY:10,sideButton:true,navButton:true,showText:"auto",isHtml:false,autoPlay:true,ascending:true,effects:["fade"],ie6Tidy:false,random:true,duration:4000,speed:800,hoverStop:true,flip:function(h,i){},created:function(){}};d.prototype.option=function(h,k){var i=this,j=i.options;j[h]=k;if(c.inArray(h,["data","gridTdX","gridTdY","gridOdX","gridOdY","sideButton","navButton"])>0){i._buildStage()}if(c.inArray(h,["data","gridTdX","gridTdY","gridOdX","gridOdY","sideButton","navButton","width","height","imgWidth","imgHeight","minWidth","minHeight",])>0){i._setSize()}switch(h){case"autoPlay":i.auto=k;break}};d.prototype._init=function(){var h=this,i=h.options;h._setSceneData();h._buildStage();h._setSize();h._resetTransfer(h.index);i.created.call(h);h.mimic.on("click",".vui-slide-handle-button",function(){h._goto(c(this).index())}).on("click",".vui-slide-side-button",function(){if(c(this).hasClass("next")){h._next()}else{h._prev()}}).on("mouseenter",function(){h.mimic.find(".vui-slide-side-buttons").children().addClass("hover");if(i.hoverStop){clearTimeout(h.timer);h.auto=false}}).on("mouseleave",function(){h.mimic.find(".vui-slide-side-buttons").children().removeClass("hover");if(i.hoverStop){h.auto=h.options.autoPlay;if(!h.animateStatus){h._resetTransfer(h.index)}}});c(window).on("resize",function(){h._setSize()})};d.prototype._setSceneData=function(){var i=this,j=i.options;var h=i.original.children().map(function(){var k=c(this);return{src:k.data("src")||k.find("img").attr("src"),text:k.data("text"),href:k.data("href")||k.find("a").attr("href"),target:k.data("target")||k.find("a").attr("target")}}).toArray();i.data=h.concat(j.data)};d.prototype._setScene=function(h){var j=this;var i=j.mimic.children(".vui-slide-scene");i.attr("href",j.data[h].href||"javascript:void(0);").css({backgroundImage:"url("+j.data[h].src+")"});if(j.data[h].target){i.attr("target",j.data[h].target)}if(!g){i.children("img").attr("src",j.data[h].src)}};d.prototype._setTransferGrid=function(h){var i=this;i.mimic.find(".vui-slide-grid").css({backgroundImage:"url("+i.data[h].src+")"});if(h>i.index){i.transfer[4].children(".vui-slide-grid").first().css({backgroundImage:"url("+i.data[i.index].src+")"});i.transfer[5].children(".vui-slide-grid").first().css({backgroundImage:"url("+i.data[i.index].src+")"})}else{i.transfer[4].children(".vui-slide-grid").last().css({backgroundImage:"url("+i.data[i.index].src+")"});i.transfer[5].children(".vui-slide-grid").last().css({backgroundImage:"url("+i.data[i.index].src+")"})}if(!g){i.transfer[3].children().find("img").attr("src",i.data[h].src);i.transfer[4].children().find("img").attr("src",i.data[h].src);i.transfer[5].children().find("img").attr("src",i.data[h].src)}};d.prototype._setHandleButtonActive=function(h){var i=this;i.mimic.find(".vui-slide-handle-button").removeClass("active").eq(h).addClass("active")};d.prototype._setText=function(i){var k=this,l=k.options;var m=k.data[i].text||"";var h=c.type(l.showText)==="boolean"?l.showText:!!m;var j=k.mimic.children(".vui-slide-text");if(l.isHtml){j.html(m)}else{j.html(c("<div>").addClass("text").text(m))}k.mimic.children(".vui-slide-mask,.vui-slide-text").toggle(h)};d.prototype._buildStage=function(){var h=this;h._buildMimic();h._buildScene();h._buildTransfer();h._buildHandleButton();h._buildSideButton();h._buildText();h.elem.empty().append(h.mimic)};d.prototype._buildMimic=function(){var h=this;h.mimic=c("<div>").addClass("vui-slide-mimic")};d.prototype._buildScene=function(){var i=this;var h=c("<a>").addClass("vui-slide-scene");if(!g){h.append("<img>")}i.mimic.append(h)};d.prototype._buildTransfer=function(){var h=this,i=h.options;h.transfer=[c('<ul class="vui-slide-transfer" style="display:none;">'+h._buildTransferGrid(i.gridTdX*i.gridTdY)+"</ul>"),c('<ul class="vui-slide-transfer" style="display:none;">'+h._buildTransferGrid(i.gridOdX)+"</ul>"),c('<ul class="vui-slide-transfer" style="display:none;">'+h._buildTransferGrid(i.gridOdY)+"</ul>"),c('<ul class="vui-slide-transfer" style="display:none;">'+h._buildTransferGrid(1)+"</ul>"),c('<ul class="vui-slide-transfer" style="display:none;">'+h._buildTransferGrid(2)+"</ul>"),c('<ul class="vui-slide-transfer" style="display:none;">'+h._buildTransferGrid(2)+"</ul>")];
    if(!g){h.transfer[3].children().append("<img>");h.transfer[4].children().append("<img>");h.transfer[5].children().append("<img>")}h.mimic.append(h.transfer)};d.prototype._buildTransferGrid=function(k){var j="";for(var h=0;h<k;h++){j+='<li class="vui-slide-grid"></li>'}return j};d.prototype._buildHandleButton=function(){var k=this,l=k.options;if(l.navButton){var j="";for(var h=0;h<k.data.length;h++){j+='<li class="vui-slide-handle-button"></li>'}j='<ul class="vui-slide-handle-buttons">'+j+"</ul>";k.mimic.append(j)}};d.prototype._buildSideButton=function(){var i=this,j=i.options;if(j.sideButton){var h='<div class="vui-slide-side-buttons">'+'<div class="vui-slide-side-button prev"></div>'+'<div class="vui-slide-side-button next"></div>'+"</div>";i.mimic.append(h)}};d.prototype._buildText=function(){var j=this;var h=c('<div class="vui-slide-mask" style="display:none;"></div>');var i=c('<div class="vui-slide-text" style="display:none;"></div>');j.mimic.append(h).append(i)};d.prototype._setSize=function(){var o=this,i=o.elem,h=o.options;o.width=h.width==="auto"?i.width():h.width;o.height=h.height==="auto"?i.height():h.height;o.width=o.width<h.minWidth?h.minWidth:o.width;o.height=o.height<h.minHeight?h.minHeight:o.height;o.imgWidth=h.imgWidth<=0?o.width:h.imgWidth;o.imgHeight=h.imgHeight<=0?o.height:h.imgHeight;var t,s,p,v;if(o.imgWidth/o.imgHeight>o.width/o.height){t=o.height;s=Math.round(t*o.imgWidth/o.imgHeight);v=Math.round((s-o.width)/2);p=0}else{s=o.width;t=Math.round(s*o.imgHeight/o.imgWidth);p=Math.round((t-o.height)/2);v=0}h.width==="auto"||i.width(o.width);h.height==="auto"||i.height(o.height);o.mimic.height(o.height).width(o.width);o.mimic.children(".vui-slide-scene").height(o.height).width(o.width).css({backgroundSize:s+"px "+t+"px",backgroundPosition:"-"+v+"px -"+p+"px"});var j=Math.round(o.height/h.gridTdY);var k=Math.round(o.width/h.gridTdX);var n=o.height-j*(h.gridTdY-1);var m=o.width-k*(h.gridTdX-1);o.transfer[0].children(".vui-slide-grid").each(function(x){var y=(x+1)%h.gridTdX===0?m:k;var w=x>=(h.gridTdY-1)*h.gridTdX?n:j;var A=j*Math.floor(x/h.gridTdX);var z=k*(x%h.gridTdX);c(this).height(w).width(y).data({width:y,height:w,left:z,top:A,imgLeft:v+z,imgTop:p+A}).css({top:A,left:z,backgroundSize:s+"px "+t+"px",backgroundPosition:"-"+(v+z)+"px -"+(p+A)+"px"})});var q=Math.round(o.width/h.gridOdX);var l=o.width-q*(h.gridOdX-1);o.transfer[1].children(".vui-slide-grid").each(function(x){var y=x>=h.gridOdX-1?l:q;var w=o.height;var A=0;var z=q*x;c(this).height(w).width(y).data({width:y,height:w,left:z,top:A,imgLeft:v+z,imgTop:p+A}).css({top:A,left:z,backgroundSize:s+"px "+t+"px",backgroundPosition:"-"+(v+z)+"px -"+(p+A)+"px"})});var u=Math.round(o.height/h.gridOdY);var r=o.height-u*(h.gridOdY-1);o.transfer[2].children(".vui-slide-grid").each(function(x){var y=o.width;var w=x>=h.gridOdY-1?r:u;var A=u*x;var z=0;c(this).height(w).width(y).data({width:y,height:w,left:z,top:A,imgLeft:v+z,imgTop:p+A}).css({top:A,left:z,backgroundSize:s+"px "+t+"px",backgroundPosition:"-"+(v+z)+"px -"+(p+A)+"px"})});o.transfer[3].children(".vui-slide-grid").height(o.height).width(o.width).data({width:o.width,height:o.height,left:0,top:0,imgLeft:v,imgTop:p}).css({top:0,left:0,backgroundSize:s+"px "+t+"px",backgroundPosition:"-"+v+"px -"+p+"px"});o.transfer[4].width(o.width*2).children(".vui-slide-grid").each(function(w){var x=w*o.width;c(this).height(o.height).width(o.width).data({width:o.width,height:o.height,left:x,top:0,imgLeft:v,imgTop:p}).css({top:0,left:x,backgroundSize:s+"px "+t+"px",backgroundPosition:"-"+v+"px -"+p+"px"})});o.transfer[5].height(o.height*2).children(".vui-slide-grid").each(function(w){var x=w*o.height;c(this).height(o.height).width(o.width).data({width:o.width,height:o.height,left:0,top:x,imgLeft:v,imgTop:p}).css({top:x,left:0,backgroundSize:s+"px "+t+"px",backgroundPosition:"-"+v+"px -"+p+"px"})})};d.prototype._next=function(){var i=this;var h=i.index+1;h=h>=i.data.length?0:h;i._play(h)};d.prototype._prev=function(){var i=this;var h=i.index-1;h=h<0?i.data.length-1:h;i._play(h)};d.prototype._goto=function(h){var i=this;h=h>i.data.length-1?i.data.length-1:h;h=h<0?0:h;if(h-i.index===0){return}i._play(h)};d.prototype._play=function(h){var i=this,j=i.options;clearTimeout(i.timer);if(!i.animateStatus&&i.data.length>1){i.animateStatus=true;i._setHandleButtonActive(h);i._setText(h);i._setTransferGrid(h);j.flip.call(i,i.index,h);b[i._getEffect()].call(i,h)}};d.prototype._resetTransfer=function(h){var i=this,j=i.options;i._setScene(h);i._setHandleButtonActive(h);i._setText(h);i.mimic.find(".vui-slide-grid").clearQueue();i.mimic.children(".vui-slide-transfer").hide();i.index=h;i.animateStatus=false;if(i.auto){i.timer=setTimeout(function(){if(j.ascending){i._next()}else{i._prev()}},j.duration)}};d.prototype._getEffect=function(){var j=this,k=j.options,i=a&&k.ie6Tidy,h=!g&&(j.width-k.imgWidth!==0||j.height-k.imgHeight!==0);if(i||h){return"fade"}else{if(k.random){j.effectIndex=Math.floor(k.effects.length*Math.random())
}else{j.effectIndex++}if(j.effectIndex>=k.effects.length){j.effectIndex=0}return k.effects[j.effectIndex]}}})(jQuery);(function(a,b){a.vmcSlideEffects({"slideX":function(c){var d=this,e=d.options;if(c>d.index){d.transfer[4].show().animate({left:-d.width},e.speed,function(){a(this).css({left:0});d._resetTransfer(c)})}else{d.transfer[4].show().css("left",-d.width).animate({left:0},e.speed,function(){d._resetTransfer(c)})}},"slideY":function(c){var d=this,e=d.options;if(c>d.index){d.transfer[5].show().animate({top:-d.height},e.speed,function(){a(this).css({top:0});d._resetTransfer(c)})}else{d.transfer[5].show().css("top",-d.height).animate({top:0},e.speed,function(){d._resetTransfer(c)})}},"page":function(c){var d=this,e=d.options;if(c>d.index){d.transfer[0].show().children(".vui-slide-grid").css({opacity:0}).each(function(h){var f=h%e.gridTdX;var j=Math.floor(h/e.gridTdX);var g=((j+1)/e.gridTdY+(f+1)/e.gridTdX)/2;g=e.speed/3*2*g;a(this).delay(g).animate({opacity:1},e.speed/3)}).last().queue(function(){d._resetTransfer(c)})}else{d.transfer[0].show().children(".vui-slide-grid").css({opacity:0}).each(function(h){var f=h%e.gridTdX;var j=Math.floor(h/e.gridTdX);var g=1-(j/e.gridTdY+f/e.gridTdX)/2;g=e.speed/3*2*g;a(this).delay(g).animate({opacity:1},e.speed/3)}).first().queue(function(){d._resetTransfer(c)})}},"circle":function(c){var d=this,e=d.options;d.transfer[0].show().children(".vui-slide-grid").css({opacity:0,width:0,height:0,borderRadius:"50%"}).each(function(h){var j=a(this);var f=h%e.gridTdX;var k=Math.floor(h/e.gridTdX);var g=((k+1)/e.gridTdY+(f+1)/e.gridTdX)/2;g=e.speed/3*2*g;j.css({marginLeft:parseInt(j.data("width"))/2,marginTop:parseInt(j.data("height"))/2,backgroundPositionX:-(parseInt(j.data("imgLeft"))+parseInt(j.data("width"))/2),backgroundPositionY:-(parseInt(j.data("imgTop"))+parseInt(j.data("height"))/2)});j.animate({opacity:0.6,marginLeft:0,marginTop:0,backgroundPositionX:-parseInt(j.data("imgLeft")),backgroundPositionY:-parseInt(j.data("imgTop")),width:j.data("width"),height:j.data("height"),},e.speed/3*2,"linear").animate({opacity:1,borderRadius:0},e.speed/3,"linear")}).last().queue(function(){d._resetTransfer(c)})},"rollingX":function(c){var d=this,e=d.options;if(c>d.index){d.transfer[1].show().children(".vui-slide-grid").css({opacity:0}).each(function(g){var f=e.speed/3*2/e.gridOdX*(g+1);a(this).delay(f).animate({opacity:1},e.speed/3)}).last().queue(function(){d._resetTransfer(c)})}else{d.transfer[1].show().children(".vui-slide-grid").css({opacity:0}).each(function(g){var f=e.speed/3*2/e.gridOdX*(e.gridOdX-g);a(this).delay(f).animate({opacity:1},e.speed/3)}).first().queue(function(){d._resetTransfer(c)})}},"rollingY":function(c){var d=this,e=d.options;if(c>d.index){d.transfer[2].show().children(".vui-slide-grid").css({opacity:0}).each(function(g){var f=e.speed/3*2/e.gridOdY*(g+1);a(this).delay(f).animate({opacity:1},e.speed/3)}).last().queue(function(){d._resetTransfer(c)})}else{d.transfer[2].show().children(".vui-slide-grid").css({opacity:0}).each(function(g){var f=e.speed/3*2/e.gridOdY*(e.gridOdY-g);a(this).delay(f).animate({opacity:1},e.speed/3)}).first().queue(function(){d._resetTransfer(c)})}},"blindsX":function(c){var d=this,e=d.options;if(c>d.index){d.transfer[1].show().children().css({width:0,opacity:0}).each(function(g){var h=a(this);var f=e.speed/3*2/e.gridOdX*(g+1);h.delay(f).animate({width:h.data("width"),opacity:1},e.speed/3)}).last().queue(function(){d._resetTransfer(c)})}else{d.transfer[1].show().children().css({width:0,opacity:0}).each(function(g){var h=a(this);var f=e.speed/3*2/e.gridOdX*(e.gridOdX-g);h.delay(f).animate({width:h.data("width"),opacity:1},e.speed/3)}).first().queue(function(){d._resetTransfer(c)})}},"blindsY":function(c){var d=this,e=d.options;if(c>d.index){d.transfer[2].show().children().css({height:0,opacity:0}).each(function(g){var h=a(this);var f=e.speed/3*2/e.gridOdY*(g+1);h.delay(f).animate({height:h.data("height"),opacity:1},e.speed/3)}).last().queue(function(){d._resetTransfer(c)})}else{d.transfer[2].show().children().css({height:0,opacity:0}).each(function(g){var h=a(this);var f=e.speed/3*2/e.gridOdY*(e.gridOdY-g);h.delay(f).animate({height:h.data("height"),opacity:1},e.speed/3)}).first().queue(function(){d._resetTransfer(c)})}}})})(jQuery);